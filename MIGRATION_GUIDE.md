# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–í—Å–µ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:

1. ‚úÖ **–ö–æ–¥ —Ä–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –º–æ–¥—É–ª–∏ (ES6 modules)**
2. ‚úÖ **–£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å retry-–º–µ—Ö–∞–Ω–∏–∑–º–æ–º**
3. ‚úÖ **–î—É–±–ª–∏—Ä—É—é—â–∞—è—Å—è –ª–æ–≥–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ —É—Ç–∏–ª–∏—Ç—ã**
4. ‚úÖ **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤**
5. ‚úÖ **–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI**
6. ‚úÖ **–£–ª—É—á—à–µ–Ω offline-—Ä–µ–∂–∏–º**
7. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**
8. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω—ã JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**
9. ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç)**

## üìÅ –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ constants.js          # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–ø—Ä–µ—Ñ–∏–∫—Å—ã, —Ç–∏–ø—ã –ø—Ä–æ–≤–æ–¥–æ–≤, Firebase config)
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ wireType.js          # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –ø—Ä–æ–≤–æ–¥–∞ (—É—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îÇ   ‚îú‚îÄ‚îÄ validation.js        # –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ filters.js           # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ sort.js              # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ pagination.js        # –ü–∞–≥–∏–Ω–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ retry.js             # Retry –º–µ—Ö–∞–Ω–∏–∑–º
‚îÇ   ‚îú‚îÄ‚îÄ sanitize.js          # –ó–∞—â–∏—Ç–∞ –æ—Ç XSS
‚îÇ   ‚îú‚îÄ‚îÄ serial.js            # –†–∞–±–æ—Ç–∞ —Å —Å–µ—Ä–∏–π–Ω—ã–º–∏ –Ω–æ–º–µ—Ä–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ date.js              # –†–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏
‚îÇ   ‚îî‚îÄ‚îÄ dynamicImport.js     # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ firebase.js          # Firebase —Å–µ—Ä–≤–∏—Å —Å retry
‚îÇ   ‚îú‚îÄ‚îÄ errorHandler.js      # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ optimisticUpdates.js # –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ storage.js           # –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ   ‚îî‚îÄ‚îÄ offlineQueue.js      # –û—á–µ—Ä–µ–¥—å offline –æ–ø–µ—Ä–∞—Ü–∏–π
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îî‚îÄ‚îÄ Table/
‚îÇ       ‚îú‚îÄ‚îÄ renderRow.js       # –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç—Ä–æ–∫
‚îÇ       ‚îî‚îÄ‚îÄ virtualizedTable.js # –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ app.js                   # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ app-form.js              # –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ app-charts.js            # –ì—Ä–∞—Ñ–∏–∫–∏
‚îî‚îÄ‚îÄ app-print.js             # –ü–µ—á–∞—Ç—å
```

## üîÑ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É ES modules)

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à HTML —Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥—É–ª–∏:
   ```html
   <script type="module" src="src/app.js"></script>
   ```

2. –û—Ç–∫—Ä–æ–π—Ç–µ —á–µ—Ä–µ–∑ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (–Ω–µ file://):
   ```bash
   # Python
   python -m http.server 8000
   
   # Node.js
   npx serve .
   ```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–±–æ—Ä–∫–∞ —Å bundler (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   npm init -y
   npm install --save-dev vite
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ `vite.config.js`:
   ```javascript
   export default {
     build: {
       outDir: 'dist',
       rollupOptions: {
         input: 'index.html'
       }
     }
   }
   ```

3. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
   ```bash
   npx vite build
   ```

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–ë—ã–ª–æ:**
```javascript
// –í—Å–µ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ (2256 —Å—Ç—Ä–æ–∫)
function getWireType(item) {
    // –õ–æ–≥–∏–∫–∞ –≤ 10+ –º–µ—Å—Ç–∞—Ö
}
```

**–°—Ç–∞–ª–æ:**
```javascript
// src/utils/wireType.js
export function getWireType(item) {
    // –ï–¥–∏–Ω–∞—è –ª–æ–≥–∏–∫–∞
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
import { getWireType } from './utils/wireType.js';
```

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å retry

**–ë—ã–ª–æ:**
```javascript
updateDoc(doc(dbRef, "spools", id), data)
    .catch(e => showToast('–û—à–∏–±–∫–∞: ' + e.message, 'error'));
```

**–°—Ç–∞–ª–æ:**
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π retry —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
await saveSpoolRecord(record, id, showToast);
// –í–Ω—É—Ç—Ä–∏: retryOperation —Å 3 –ø–æ–ø—ã—Ç–∫–∞–º–∏
```

### 3. –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–ë—ã–ª–æ:**
```javascript
// UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –æ—Ç–≤–µ—Ç–∞ —Å–µ—Ä–≤–µ—Ä–∞
await updateDoc(...);
renderTable();
```

**–°—Ç–∞–ª–æ:**
```javascript
// UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É
applyOptimisticUpdate(database, id, updates, renderTable, showToast);
await saveSpoolRecord(record, id);
// –ü—Ä–∏ –æ—à–∏–±–∫–µ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π rollback
```

### 4. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫

**–ë—ã–ª–æ:**
```html
<!-- –í—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://unpkg.com/html5-qrcode"></script>
```

**–°—Ç–∞–ª–æ:**
```javascript
// –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–µ–Ω
const Chart = await loadChartJS();
```

### 5. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ë—ã–ª–æ:**
```javascript
if (!serial) {
    showToast('–í–≤–µ–¥–∏—Ç–µ —Å–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä', 'error');
    return;
}
```

**–°—Ç–∞–ª–æ:**
```javascript
const validation = validateRecord(record);
if (!validation.isValid) {
    const firstError = getFirstError(validation);
    showToast(firstError, 'error');
    return;
}
```

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞ –µ—â–µ –Ω–µ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã:

1. **–ú–∞—Å—Å–æ–≤–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ** - –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É
2. **–ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç CSV** - –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –º–æ–¥—É–ª—å
3. **–°–∫–∞–Ω–µ—Ä QR** - –Ω—É–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π
4. **–ë—É—Ñ–µ—Ä –æ—Ç–≥—Ä—É–∑–∫–∏** - —á–∞—Å—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω, –Ω—É–∂–Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫–∞
5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–µ–π** - –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ UI

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** - –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥—É–ª–∏ –º–æ–≥—É—Ç –∏–º–µ—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã (–Ω—É–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å)
2. **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** - –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ `window.*`
3. **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–±–ª–∏—Ü—ã** - –±–∞–∑–æ–≤–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞
2. –î–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–±–æ—Ä–∫—É —Å bundler
4. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
5. –î–æ–±–∞–≤–∏—Ç—å TypeScript (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `IMPROVEMENTS.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —É–ª—É—á—à–µ–Ω–∏–π
- `CODE_EXAMPLES.md` - –ø—Ä–∏–º–µ—Ä—ã —É–ª—É—á—à–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- `README.md` - –æ–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –ù–æ–≤—ã–π –∫–æ–¥ —Ç—Ä–µ–±—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ES6 modules
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å bundler
- –í—Å–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `src/config/constants.js`

